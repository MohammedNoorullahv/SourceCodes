@model OptimizerBeta3.Models.MasterTables.OfferDtlVenueMapping
@using OptimizerBeta3.Extensions
@{
    ViewData["Title"] = "OfferMapping";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    var UnAssignedVenue = (List<OptimizerBeta3.Models.GeneralTables.TempOfferVenueMapping>)ViewBag.UnAssignedVenue;
    var AssignedVenue = (List<OptimizerBeta3.Models.GeneralTables.TempOfferVenueMapping>)ViewBag.AssignedVenue;
    var Offer = (OptimizerBeta3.Models.MasterTables.Offers)ViewBag.Offer;
}

<div class="border backgroudColor">
    <div class="backgroudWhite10Px">
        <div class="row">
            <div class="col-6">
                <h2 class="text-success">Offer Info</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2">
                <label class="col-form-label text-danger">Offer Name</label>
            </div>
            <div class="col-sm-2">
                <input value="@Offer.OfferName" class="form-control"/>
            </div>
        </div>
    </div>
</div>

<div class="col-3">
    <a class="btn btn-success text-white  form-control" asp-action="Index">
        Back to Offer
    </a>
</div>
<br />

@using (Html.BeginForm("OfferDtlVenueMappingUnAssign", "Offer", FormMethod.Post))
{

    <h3 class="text-info">Venue's Mapped for this Offer</h3>
    <div>
        @if (AssignedVenue.Count() > 0)
        {
        <table class="table table-success table-striped table-hover table-bordered">
            <tr class="table-success text-info text-center">
                <th> @Html.DisplayName("UnitId") </th>
                <th> @Html.DisplayName("StrCode") </th>
                <th> @Html.DisplayName("CompanyName") </th>
                <th> @Html.DisplayName("Address") </th>
                <th> @Html.DisplayName("City") </th>
                <th> <label>Actions</label> </th>
            </tr>
            @foreach (var item in AssignedVenue)
            {
                <tr>
                    <td> @Html.DisplayFor(m => item.FKUnitId) </td>
                    <td> @Html.DisplayFor(m => item.StrCode) </td>
                    <td> @Html.DisplayFor(m => item.CompanyName) </td>
                    <td> @Html.DisplayFor(m => item.Address) </td>
                    <td> @Html.DisplayFor(m => item.City) </td>
                    <td style="width:150px">
                        <div class="btn-group" role="group">
                            <input id="OfferId" name="OfferId" value="@Offer.Id" readonly type="hidden" />
                            <input id="FKCompany" name="FKCompany" value="@item.FKUnitId" readonly type="hidden" />
                            <input id="submit1" class="btn btn-danger text-white fas fa-plus-square" type="submit" value="UnAssign" />
                        </div>
                    </td>
                </tr>
            }

        </table>
        }
        else
        {
            <h4 class="text-primary"> { -- No Venues Mapped for this Offer -- } </h4>
        }
    </div>
}
@using (Html.BeginForm("OfferDtlVenueMappingAssign", "Offer", FormMethod.Post))
{
    <h3 class="text-danger">Venue's NOT Mapped for this Offer</h3>
    <div>
        @if (UnAssignedVenue.Count() > 0)
        {
        <table class="table table-success table-striped table-hover table-bordered">
            <tr class="table-success text-info text-center">
                <th> @Html.DisplayName("UnitId") </th>
                <th> @Html.DisplayName("StrCode") </th>
                <th> @Html.DisplayName("CompanyName") </th>
                <th> @Html.DisplayName("Address") </th>
                <th> @Html.DisplayName("City") </th>
                <th> <label>Actions</label> </th>
            </tr>

            @foreach (var item in UnAssignedVenue)
            {
                <tr>


                    <td> @Html.DisplayFor(m => item.FKUnitId) </td>
                    <td> @Html.DisplayFor(m => item.StrCode) </td>
                    <td> @Html.DisplayFor(m => item.CompanyName) </td>
                    <td> @Html.DisplayFor(m => item.Address) </td>
                    <td> @Html.DisplayFor(m => item.City) </td>

                    <td style="width:150px">

                        <div class="btn-group" role="group">
                            @*<a class="btn btn-primary text-white fas fa-plus-square" asp-action="OfferDtlVenueMappingPost" asp-route-Id="@item.FKUnitId" formmethod="post" formaction="OfferDtlVenueMapping">
                        </a>*@
                            <input id="OfferId" name="OfferId" value="@Offer.Id" readonly type="hidden" />
                            <input id="FKCompany" name="FKCompany" value="@item.FKUnitId" readonly type="hidden" />
                            <input id="submit1" class="btn btn-primary text-white fas fa-plus-square" type="submit" value="Assign" />
                        </div>
                    </td>
                </tr>
            }
        </table>

        }
        else
        {
            <p> No Unassigned exists.....</p>
        }
    </div>
}
